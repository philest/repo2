0. Read other implementations, read about sys calls, understand how it works. 

0.5. Understand stan's code

1. First do redirection

